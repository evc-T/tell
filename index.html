<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ورود به کانال تلگرام</title>
  <meta name="description" content="دکمه ورود به کانال تلگرام" />
  <style>
    :root{
      --bg:#0f1522; --card:#141b2d; --txt:#e8ecf1; --sub:#9fb0c6;
      --brand:#2ea6ff; --brand2:#27d2ff; --ok:#19c37d;
    }
    html,body{height:100%}
    body{
      margin:0; font-family:system-ui,IRANSans,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background: radial-gradient(1200px 800px at 85% -10%, #1c2a47 0%, #0f1522 60%) no-repeat,
                  linear-gradient(160deg, #0c1220 0%, #0f1522 100%);
      color:var(--txt); display:grid; place-items:center; padding:24px;
    }
    .card{
      width:min(520px, 92vw); background:linear-gradient(180deg,#17233d 0%, var(--card) 100%);
      border:1px solid #1f2c49; border-radius:18px; padding:28px; box-shadow:0 20px 60px rgba(0,0,0,.35);
      text-align:center; backdrop-filter:saturate(1.2) blur(6px);
    }
    h1{margin:.2rem 0 0.6rem 0; font-size:1.35rem; letter-spacing:.1px}
    p{margin:.2rem 0 1.2rem 0; color:var(--sub); line-height:1.8}
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:.6rem;
      width:100%; padding:14px 16px; border-radius:12px; border:0; cursor:pointer;
      color:#06121e; font-weight:700; letter-spacing:.2px; font-size:1rem;
      background:linear-gradient(90deg, var(--brand) 0%, var(--brand2) 100%);
      box-shadow:0 8px 24px rgba(46,166,255,.35); transition:transform .16s ease, box-shadow .16s ease, filter .16s ease;
    }
    .btn:hover{transform:translateY(-1px); box-shadow:0 12px 28px rgba(46,166,255,.45)}
    .btn:active{transform:translateY(0)}
    .btn-outline{
      background:transparent; color:var(--txt); border:1px solid #2a3a5e;
      box-shadow:none; margin-top:10px;
    }
    .btn-outline:hover{filter:brightness(1.15)}
    .hint{font-size:.88rem; color:#8ea2c4; margin-top:8px}
    .row{display:grid; grid-template-columns:1fr; gap:10px; margin-top:14px}
    .logo{
      width:64px; height:64px; margin:0 auto 8px auto; border-radius:16px;
      background:
        radial-gradient(circle at 30% 30%, #ffffff 0 20%, transparent 22%),
        radial-gradient(circle at 70% 70%, #ffffff 0 20%, transparent 22%),
        conic-gradient(from 210deg at 50% 50%, #2ea6ff, #27d2ff);
      filter:drop-shadow(0 6px 18px rgba(46,166,255,.35));
    }
    .small{font-size:.85rem}
    a.clean{color:inherit; text-decoration:none}
    .hidden{display:none}
    .qr{margin-top:12px}
    .qr canvas{width:140px; height:140px}
  </style>
</head>
<body>
  <main class="card" role="main">
    <div class="logo" aria-hidden="true"></div>
    <h1>ورود به کانال تلگرام</h1>
    <p class="small">برای پیوستن به کانال روی دکمه زیر بزنید. اگر اپ تلگرام نصب نباشد، نسخهٔ وب باز می‌شود.</p>

    <div class="row">
      <button id="joinBtn" class="btn" aria-label="ورود به کانال تلگرام">
        🚀 ورود به کانال
      </button>
      <button id="copyBtn" class="btn btn-outline" aria-label="کپی کردن لینک دعوت">
        📋 کپی لینک دعوت
      </button>
      <button id="openWeb" class="btn btn-outline hidden" aria-label="باز کردن نسخهٔ وب تلگرام">
        🌐 باز کردن در وب
      </button>
    </div>

    <p id="msg" class="hint" role="status" aria-live="polite"></p>

    <noscript>
      <p class="hint">جاوااسکریپت غیرفعال است. برای ورود مستقیم:
        <a class="clean" href="https://t.me/+BBO8JO4Gy2xhZTE8" rel="noopener" target="_blank">روی این لینک بزنید</a>.
      </p>
    </noscript>
  </main>

  <script>
    // لینک دعوت شما:
    const INVITE_URL = "https://t.me/+BBO8JO4Gy2xhZTE8";

    const el = (id)=>document.getElementById(id);
    const joinBtn = el("joinBtn");
    const copyBtn = el("copyBtn");
    const openWeb = el("openWeb");
    const msg = el("msg");

    // تشخیص سادهٔ موبایل
    const isMobile = /Android|iPhone|iPad|iPod|Windows Phone/i.test(navigator.userAgent);

    // ابتدا تلاش برای بازکردن اپ تلگرام؛ در صورت عدم موفقیت، لینک وب را نشان بده
    joinBtn.addEventListener("click", () => {
      msg.textContent = "در حال تلاش برای باز کردن تلگرام…";

      // تلاش اپ (deep link). برای لینک‌های دعوت بهتر است همان https استفاده شود
      // چون tg:// برای invite مخصوص همیشه کار نمی‌کند. پس مستقیم به https می‌رویم.
      const w = window.open(INVITE_URL, "_blank", "noopener");
      if (!w) {
        // اگر پاپ‌آپ بلاک شد
        window.location.href = INVITE_URL;
      } else {
        msg.textContent = "اگر تلگرام باز نشد، از دکمهٔ «باز کردن در وب» استفاده کنید.";
        openWeb.classList.remove("hidden");
      }
    });

    copyBtn.addEventListener("click", async () => {
      try {
        await navigator.clipboard.writeText(INVITE_URL);
        msg.textContent = "لینک دعوت کپی شد ✅";
      } catch {
        // fallback
        const ta = document.createElement("textarea");
        ta.value = INVITE_URL; document.body.appendChild(ta);
        ta.select(); document.execCommand("copy"); ta.remove();
        msg.textContent = "لینک کپی شد ✅";
      }
    });

    openWeb.addEventListener("click", () => {
      window.open(INVITE_URL, "_blank", "noopener");
    });

    // اگر کاربر iOS باشد و سافاری پاپ‌آپ را بلاک کند، دکمه وب را نشان بده
    if (!isMobile) openWeb.classList.remove("hidden");
  </script>
</body>
</html>
